<?xml version='1.0' encoding='UTF-8'?>
<!-- This document was created with Syntext Serna Free. -->
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" []>
<chapter>
  <title>Instalación de una nueva base de datos</title>
  <para>La aplicación DHIS 2 viene con un set de herramientas para la recogida de datos, validación, reporte y análisis, pero los contenidos de la base de datos, como son qué datos registrar, de dónde vienen los datos, y en qué formato, dependen del contexto en que usemos la aplicación. Tendremos que insertar estos metadatos en la aplicación antes de poder usarlos, y esto es posible hacerlo mediante el interfaz de usuario sin necesidad de programación. Lo que sí se necesita es conocer en profundidad el contexto local del SIS así como comprender los principios de diseño de DHIS 2 (véase el capítulo "Principios conceptuales de diseño en DHIS 2"). Esto es lo que llamamos proceso inicial para el diseño y personalización de la base de datos. Este capítulo da una perspectiva general del proceso de personalización y explica brevemente los pasos requeridos, con el objetivo de ofrecer a los implementadores una visión de lo que requiere este proceso. Otros capítulos de este manual entran con mayor detalle en algunos de estos pasos concretos. </para>
  <section>
    <title>Estrategias para empezar</title>
    <para>La sección siguiente describe una lista de consejos para arrancar con buen pie en el desarrollo de una nueva base de datos.</para>
    <orderedlist>
      <listitem>
        <para>Montar cuanto antes una base de datos demostrativa, que incluya ejemplos de reportes, gráficas, dashboard, SIG, formularios de entrada de datos. Utilizar datos reales, idealmente a nivel nacional, pero no necesariamente datos a nivel de establecimientos de salud.</para>
      </listitem>
      <listitem>
        <para>Poner la base de datos demostrativa accesible desde Internet. Una manera de acelerar este proceso puede ser alojarla en un servidor web con un proveedor de servicios externo, incluso si es solo temporal. Esto crea una buena plataforma colaborativa y una herramienta estupenda de difusión para lograr la aprobación y participación de los diferentes actores relevantes para el SIS.</para>
      </listitem>
      <listitem>
        <para>Realizar a continuación un proceso de diseño de la base de datos más elaborado. Si es posible, algunas partes de la demo pueden reutilizarse.</para>
      </listitem>
      <listitem>
        <para>Asegurarse de que contamos con un equipo local multidisciplinar, con capacidades y formación diversas: salud pública, administración de sistemas, gestión de TIC y gestión de proyectos.</para>
      </listitem>
      <listitem>
        <para>Utilizar la fase de personalización y diseño de la base de datos como un proceso de aprendizaje y de formación para cultivar capacidades locales mediante "aprender haciendo".</para>
      </listitem>
      <listitem>
        <para>El equipo nacional de implementación deberá liderar el proceso de diseño de la base de datos pero siempre apoyado y guiado por implementadores más experimentados.</para>
      </listitem>
    </orderedlist>
  </section>
  <section>
    <title>¿Un proceso controlado o un proceso abierto?</title>
    <para>Dado que el proceso de personalización de DHIS 2 suele ser y debe ser un proceso colaborativo, es importante tener en mente qué partes de la base de datos son más críticas que otras, por ejemplo para evitar que usuarios no capacitados corrompan los datos. Normalmente es mucho más crítico personalizar una base de datos que ya tiene valores de datos, que trabajar con metadatos en una base de datos "vacía". Aunque parezca extraño, mucha de la personalización tiene lugar después del primer registro de datos o de la primera importación. Es entonces cuando por ejemplo se añaden nuevas reglas de validación, indicadores y capas de reporte.</para>
    <para>El error más crítico que se puede cometer aquí es modificar los metadatos que describen directamente los valores de datos, que como hemos visto anteriormente, son los <emphasis role="italic">elementos de datos</emphasis> y las <emphasis role="italic">unidades organizativas</emphasis>. Cuando modificamos estas definiciones es importante pensar en cómo afectarán los cambios al significado de los valores de datos que ya estaban en el sistema (recogidos utilizando las definiciones anteriores). Es recomendable limitar quién puede editar estos metadatos fundamentales, mediante la gestión de roles de usuario, para restringir el acceso al equipo experto de personalización.</para>
    <para>Otras partes del sistema que no están directamente acopladas a los valores de datos son mucho menos críticas y podemos experimentar con ellas. Es más, en las fases incipientes de implementación, deberíamos  animar a los usuarios a probar cosas nuevas y así provocar el aprendizaje. Esta premisa es válida para los grupos, las reglas de validación, las fórmulas de indicadores, las gráficas y los reportes. Todos ellos pueden borrarse o modificarse posteriormente con facilidad sin afectar a los valores de datos, de modo que no son partes críticas del proceso de personalización.</para>
    <para>Por supuesto, cuando posteriormente llevamos el proceso de personalización a fase de producción, deberemos ser todavía más cautos al permitir acceso a la edición de metadatos, ya que cualquier cambio, incluso en los menos críticos, puede afectar a cómo se agregan o se presentan los datos en reportes (aunque los datos en bruto por debajo estén correctos y a salvo).
     .</para>
  </section>
  <section>
    <title>Pasos para desarrollar una base de datos</title>
    <para>Esta sección describe los pasos concretos para desarrollar una base de datos partiendo de cero.</para>
    <section>
      <title>Jerarquía organizativa</title>
      <para>La jerarquía organizativa define la organización en DHIS 2: los establecimientos de salud, las áreas administrativas y otras áreas geográficas utilizadas en la recolección y el análisis de datos. Esta dimensión de los datos se define como una jerarquía con una unidad raíz (ej. Ministerio de Salud) y diversos niveles y nodos debajo. Cada nodo en esta jerarquía es lo que en DHIS 2 llamamos unidad organizativa. El diseño de esta jerarquía determinará las unidades geográficas de análisis disponibles a los usuarios al momento en que los datos son registrados y agregados en esta estructura. Solo puede haber una jerarquía organizativa en el sistema, de modo que deberemos considerar cuidadosamente cómo estructurarla.</para>
      <para>Es posible modelar jerarquías adicionales (tales como límites administrativos paralelos al Sector Salud) utilizando grupos organizativos y sets de grupo, pero la jerarquía organizativa es el vehículo principal para la agregación de datos en una dimensión geográfica. Normalmente las jerarquías organizativas nacionales en Salud Pública tienen entre 4 y 6 niveles, pero DHIS soporta cualquier cantidad de niveles. La jerarquía se construye con relaciones padre-hijo, por ejemplo: una unidad País o Ministerio de Salud (la raíz) puede tener 8 unidades hijo (provincias), y cada provincia (en nivel 2) puede tener a su vez 10 ó 15 distritos como nodos hijo. Generalmente los establecimientos de salud estarán colocados en el nivel más bajo, pero también podemos colocarlos en niveles más altos como sucederá con los hospitales provinciales o nacionales, de modo que es posible tener árboles organizativos asimétricos (ej. un nodo hoja puede estar colocado en el nivel 2 mientras la mayoría de nodos hoja se encuentran en el nivel 5). </para>
    </section>
    <section>
      <title>Elementos de datos</title>
      <para>El Elemento de Datos es probablemente el bloque más fundamental de una base de datos en DHIS2. Representa la dimensión <emphasis role="italic">qué</emphasis>, ya que explica qué se está recopilando o analizando. En algunos contextos esto está referido a un indicador, para en DHIS2 llamamos elemento de datos a esta unidad de colección y análisis. El elemento de datos a menudo representa un conteo de algo, y su nombre describe qué es aquello que se está contando, por ejemplo &quot;Dosis entregadas de BCG&quot; o &quot;Casos de Malaria&quot;. Cuando los datos son recopilados, validados, analizados, reportados o presentados, lo que describe el QUé de los datos son los elementos de datos o expresiones construidas a partir de elementos de datos. Como tales, los elementos de datos se vuelven importantes para todos los aspectos del sistema y deciden no sólo cómo se recopilan los datos, sino algo más importante: cómo los valores de datos se representan en la base de datos, lo cual de nuevo afecta a cómo los datos son analizados y presentados.
</para>
      <para>La mejor práctica en el diseño de elementos de datos es pensar en los elementos de datos como una unidad de análisis de datos y no sólo como un campo en el formulario de entrada de datos. Cada elemento de datos tiene vida propia en la base de datos, completamente separado del formulario, y los reportes y otras salidas se basan en elementos de datos y expresiones o fórmulas compuestas por elementos de datos y no en los formularios de colección de datos. De modo que las necesidades del análisis de datos son las que deberían dirigir este proceso, y no el aspecto y función amigables del formulario de colección de datos.</para>
    </section>
    <section>
      <title>Sets de datos y formularios de entrada de datos</title>
      <para>Toda la entrada de datos en DHIS 2 se organiza mediante la utilización de sets de datos. Un set de datos es una colección de elementos de datos agrupados juntos para la recopilación de datos, y en el caso de instalaciones distribuidas también define pedazos de datos para exportarlos o importarlos entre instancias de DHIS 2 (por ejemplo de una instalatión local en una oficina distrital a un servidor nacional). Los sets de datos no están vinculados directamente a los valores de datos, solo mediante sus elementos de datos y frecuencias, y como tales los sets de datos pueden ser modificados, eliminados o añadidos en cualquier momento sin que esto afecte a los datos en bruto previamente capturados en el sistema, pero tales cambios afectarán por su puesto a cómo se registrarán nuevos datos.</para>
      <para>Una vez hemos asignado un set de datos a una unidad organizativa, ese set de datos estará disponible en Entrada de Datos (del menú Servicios) para la unidad asignada y para los periodos válidos de acuerdo al tipo de periodo del set de datos. Entonces, se mostrará un formulario de entrada de datos por defecto, que es simplemente una lista de los elementos de datos pertenecientes al set de datos junto a una columna para introducir los valores. Si nuestro set de datos contiene elementos de datos con categorías como grupos de edad o género, entonces se generarán automáticamente columnas adicionales en el formulario por defecto en base a estas categorías. Además del formulario de entrada de datos por defecto basado en listado, existen dos alternativas: el formulario basado en secciones y el formulario personalizado. Los formularios por secciones permiten un poco más de flexibilidad cuando queremos utilizar formularios tabulares, y además son rápidos y sencillos de diseñar. A menudo sucederá que nuestro formulario de entrada de datos precisa múltiples tablas con subtítulos, y a veces necesitamos deshabilitar (poner en gris) algunos campos de la tabla (por ejemplo cuando algunas categorías no aplican para todos los elementos de datos); estas funciones están soportadas en los formularios por secciones. Cuando el formulario que queremos diseñar es demasiado complicado para los modelos por defecto o por secciones, entonces nuestra última opción es usar el formulario personalizado. Este nos llevará más tiempo, pero da una flexibilidad total en términos de diseño. DHIS 2 viene ya con un editor HTML (Editor FcK) para el diseñador de formularios y podemos diseñar el formulario usando este interfaz de usuario o bien pegar directamente nuestro código HTML (usando la ventana Fuente en el editor).</para>
    </section>
    <section>
      <title>Reglas de validación</title>
      <para>Una vez que hayamos configurado la parte de entrada de datos del sistema y comenzado a recoger datos, entonces es momento de definir chequeos de calidad de los datos que ayuden a mejorar la calidad de los datos que se están recopilando. Podemos añadir tantas reglas de validación como queramos, que estarán compuestas por expresiones a izquierda y derecha de un operador matemático, que a su vez están formadas por elementos de datos. Las reglas típicas consisten en comparar los subtotales con los totales de algo. Por ejemplo, si tenemos dos elementos de datos &quot;Test VIH realizados&quot; y &quot;Test VIH resultado positivo&quot;, entonces sabemos que en el mismo formulario (es decir, para el mismo periodo y unidad organizativa) el número total de tests deberá ser siempre igual o mayor que el número de tests positivos. Estas reglas deberían ser reglas absolutas, que significa que son matemáticamente correctas y no simplemente asunciones o &quot;casi siempre correctas&quot;. Las reglas se pueden ejecutar en la entrada de datos, después de rellenar cada formulario, o como un proceso por tandas testeando múltiples formularios de una vez, por ejemplo para todos los establecimientos durante el mes de reporte previo. Los resultados de los tests de validación mostrarán un listado con todas las infracciones y con los valores detallados de cada lado de la expresión donde se produjo la infracción para facilitar que regresemos a la entrada de datos y corrijamos los valores.</para>
    </section>
    <section>
      <title>Indicadores</title>
      <para>Los indicadores representan seguramente la herramienta más poderosa de análisis incluida en DHIS 2. Mientras los elementos de datos representan los datos en bruto (conteos) que son recopilados, los indicadores representan fórmulas que proporcionan tasas cobertura, tasas de incidencia, ratios y otras unidades de análisis calculadas. Un indicador se compone de un factor (por ejemplo 1, 10, 100, 10 000), un numerador y un denominador, los dos últimos siendo expresiones obtenidas a partir de uno o varios elementos de datos. A modo de ejemplo, el indicador &quot;Cobertura BCG &lt;1 año&quot; queda definido por una fórmula con factor 100, numerador el número de &quot;dosis BCG entregadas a niños menores de 1 año&quot;, y denominador la &quot;población diana menor de 1 año&quot;. El indicador &quot;Tasa de exclusión de DPT1 a DPT3&quot; es una fórmula de 100 % x (&quot;Dosis entregadas DPT1&quot;-&quot;Dosis entregadas DPT3&quot;) / (&quot;Dosis entregadas DPT1&quot;)</para>
      <para>La mayoría de los módulos de reporte en DHIS 2 soportan tanto elementos de datos como indicadores y podemos incluso combinarlos en reportes personalizados. Pero la diferencia más importante y la ventaja de los indicadores frente a los datos en bruto (los valores de los datos en los elementos de datos) es la capacidad para comparar datos a través de áreas geográficas distintas (por ejemplo, áreas muy pobladas frente a áreas rurales) ya que la población diana puede utilizarse como denominador.</para>
      <para>Es posible añadir, modificar y eliminar indicadores en cualquier momento sin interferir en los valores de los datos que ya se encuentran en la base de datos.</para>
    </section>
    <section>
      <title>Tablas de reporte e informes</title>
      <para>Standard reports in DHIS 2 is a very flexible way of presenting the data that has been collected. Data can be aggregated by any organisational unit or orgunit level, by data element, by indicators, as well as over time (e.g. monthly, quarterly, yearly). The report tables are custom data sources for the standard reports and can be flexibly defined in the user interface and later accessed in external report designers such as iReport or BIRT. These report designs can then be set up as easily accessible one-click reports with parameters so that the users can run the same reports e.g. every month when new data is entered, and also be relevant to users at all levels as the organisational unit can be selected at the time of running the report.</para>
    </section>
    <section>
      <title>SIG (Mapas)</title>
      <para>In the integrated GIS module you can easily display your data on maps, both on polygons (areas) and as points (health facilities), and either as data elements or indicators. By providing the coordinates of your organisational units to the system you can qucikly get up to speed with this module. See the GIS section for details on how to get started.</para>
    </section>
    <section>
      <title>Gráficos y dashboard</title>
      <para>On of the easiest way to display your indicator data is through charts. An easy to use chart dialogue will guide you through the creation of various types of charts with data on indicators, organisational units and periods of your choice. These charts can easily be added to one of the four chart sections on your dashboard and there be made easily available right after log in. Make sure to set the dashboard module as the start module in user settings.</para>
    </section>
  </section>
</chapter>
